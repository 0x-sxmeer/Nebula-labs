
> nebula-labs@0.0.0 test
> vitest run


[7m[1m[36m RUN [39m[22m[27m [36mv1.6.1[39m [90mC:/DAPP/SWAP/blackbox dapp[39m

 [32mΓ£ô[39m src/utils/__tests__/validation.test.js [2m ([22m[2m31 tests[22m[2m)[22m[90m 14[2mms[22m[39m
[90mstdout[2m | new LiFiService (C:\DAPP\SWAP\blackbox dapp\src\services\lifiService.js:103:13)[22m[39m
≡ƒÜÇ LiFi Service using endpoint: /api/lifi-proxy

[90mstdout[2m | new LiFiService (C:\DAPP\SWAP\blackbox dapp\src\services\lifiService.js:103:13)[22m[39m
≡ƒÜÇ LiFi Service using endpoint: /api/lifi-proxy

[90mstdout[2m | src/services/__tests__/lifiService.test.js[2m > [22m[2mlifiService[2m > [22m[2mgetRoutes[2m > [22m[2mshould fetch routes successfully[22m[39m
≡ƒôí Fetching routes: {
  fromChainId: [33m1[39m,
  fromTokenAddress: [32m'0xETH'[39m,
  fromAddress: [32m'0xUser'[39m,
  fromAmount: [32m'1000000000000000000'[39m,
  toChainId: [33m137[39m,
  toTokenAddress: [32m'0xMATIC'[39m,
  toAddress: [32m'0xUser'[39m,
  options: {
    order: [32m'FASTEST'[39m,
    slippage: [33m0.03[39m,
    maxPriceImpact: [33m1[39m,
    allowSwitchChain: [33mtrue[39m,
    integrator: [32m'blackbox_dapp'[39m
  },
  originalAmount: [32m'1'[39m
}
Γ£à Found 1 routes

node.exe : 
[90mstderr[2m | src
/services/__tests__/l
ifiService.test.js[2
m > [22m[2mlifiServ
ice[2m > [22m[2mge
tStatus[2m > 
[22m[2mshould 
return 
status[22m[39m
At C:\Program Files\n
odejs\npm.ps1:29 
char:3
+   & $NODE_EXE 
$NPM_CLI_JS $args
+   ~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~
    + CategoryInfo   
           : 
NotSpecified: (    [
90mstderr[2m...tatu 
   
s[22m[39m:String) 
[    ], 
RemoteException
    + 
FullyQualifiedError  
  Id : 
NativeCommandErr    
or
 
Attempt 1/4 failed 
for /status?txHash=0x
TxHash&bridge=bridge&
fromChain=1&toChain=1
37: TypeError: 
response.text is not 
a function
    at LiFiService.ma
keRequest [90m(C:\DA
PP\SWAP\blackbox dapp
\[39msrc\services\li
fiService.js:260:45[
90m)[39m
    at LiFiService.ge
tStatus [90m(C:\DAPP
\SWAP\blackbox dapp\
[39msrc\services\lifi
Service.js:585:20[90
m)[39m
    at [90mC:\DAPP\S
WAP\blackbox dapp\[3
9msrc\services\__test
s__\lifiService.test.
js:55:22
    at runTest [90m(
file:///C:/DAPP/SWAP/
blackbox%20dapp/[39m
node_modules/[4m@vit
est[24m/runner/dist/
index.js:781:11[90m)
[39m
    at runSuite [90m
(file:///C:/DAPP/SWAP
/blackbox%20dapp/[39
mnode_modules/[4m@vi
test[24m/runner/dist
/index.js:909:15[90m
)[39m
    at runSuite [90m
(file:///C:/DAPP/SWAP
/blackbox%20dapp/[39
mnode_modules/[4m@vi
test[24m/runner/dist
/index.js:909:15[90m
)[39m
    at runSuite [90m
(file:///C:/DAPP/SWAP
/blackbox%20dapp/[39
mnode_modules/[4m@vi
test[24m/runner/dist
/index.js:909:15[90m
)[39m
    at runFiles [90m
(file:///C:/DAPP/SWAP
/blackbox%20dapp/[39
mnode_modules/[4m@vi
test[24m/runner/dist
/index.js:958:5[90m)
[39m
    at startTests [9
0m(file:///C:/DAPP/SW
AP/blackbox%20dapp/[
39mnode_modules/[4m@
vitest[24m/runner/di
st/index.js:967:3[90
m)[39m
    at [90mfile:///C
:/DAPP/SWAP/blackbox%
20dapp/[39mnode_modu
les/[4mvitest[24m/d
ist/chunks/runtime-ru
nBaseTests.oAvMKtQC.j
s:116:7

 [32mΓ£ô[39m src/__tests__/swapAmounts.test.js [2m ([22m[2m2 tests[22m[2m)[22m[90m 10[2mms[22m[39m
 [32mΓ£ô[39m src/hooks/__tests__/useTokenApproval.test.js [2m ([22m[2m5 tests[22m[2m)[22m[90m 37[2mms[22m[39m
[90mstderr[2m | src
/hooks/__tests__/useS
wapExecution.test.js
[2m > [22m[2museSwa
pExecution - Logic 
Security[2m > 
[22m[2mshould 
throw "Approval 
required" if ERC20 
token is not 
approved[22m[39m
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)

[90mstderr[2m | src
/hooks/__tests__/useS
wapExecution.test.js
[2m > [22m[2museSwa
pExecution - Logic 
Security[2m > 
[22m[2mshould NOT 
throw "Approval 
required" for Native 
Token (ETH)[22m[39m
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)

 [32mΓ£ô[39m src/services/__tests__/lifiService.test.js [2m ([22m[2m3 tests[22m[2m)[22m[33m 1015[2mms[22m[39m
[90mstderr[2m | src
/hooks/__tests__/useS
wap.test.js[2m > 
[22m[2museSwap 
Hook[2m > 
[22m[2mshould 
initialize with 
default 
values[22m[39m
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)

[90mstdout[2m | src/hooks/__tests__/useSwap.test.js[2m > [22m[2museSwap Hook[2m > [22m[2mshould update amount and debounce route fetching[22m[39m
≡ƒÜÇ [useSwap] Requesting Routes: {
  fromChain: [33m1[39m,
  toChain: [33m1[39m,
  fromToken: [32m'ETH'[39m,
  toToken: [32m'USDC'[39m,
  amount: [32m'1.0'[39m
}

[90mstderr[2m | src
/hooks/__tests__/useS
wap.test.js[2m > 
[22m[2museSwap 
Hook[2m > 
[22m[2mshould 
update amount and 
debounce route 
fetching[22m[39m
[Route Validation] 
routes must be an 
array, got: undefined

[90mstdout[2m | src/hooks/__tests__/useSwap.test.js[2m > [22m[2museSwap Hook[2m > [22m[2mshould handle API errors gracefully[22m[39m
≡ƒÜÇ [useSwap] Requesting Routes: {
  fromChain: [33m1[39m,
  toChain: [33m1[39m,
  fromToken: [32m'ETH'[39m,
  toToken: [32m'USDC'[39m,
  amount: [32m'1.0'[39m
}

[90mstderr[2m | src
/hooks/__tests__/useS
wap.test.js[2m > 
[22m[2museSwap 
Hook[2m > 
[22m[2mshould 
switch tokens 
correctly[22m[39m
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)

[90mstdout[2m | src/hooks/__tests__/useSwap.test.js[2m > [22m[2museSwap Hook[2m > [22m[2mshould clear routes when amount is cleared[22m[39m
≡ƒÜÇ [useSwap] Requesting Routes: {
  fromChain: [33m1[39m,
  toChain: [33m1[39m,
  fromToken: [32m'ETH'[39m,
  toToken: [32m'USDC'[39m,
  amount: [32m'1.0'[39m
}

 [32mΓ£ô[39m src/hooks/__tests__/useSwap.test.js [2m ([22m[2m5 tests[22m[2m)[22m[90m 32[2mms[22m[39m
[90mstderr[2m | src
/hooks/__tests__/useS
wapExecution.test.js
[2m > [22m[2museSwa
pExecution - Logic 
Security[2m > 
[22m[2mshould NOT 
throw "Approval 
required" for Native 
Token (ETH)[22m[39m
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)

[90mstderr[2m | src
/hooks/__tests__/useS
wapExecution.test.js
[2m > [22m[2museSwa
pExecution - Logic 
Security[2m > 
[22m[2mshould pass 
validation if ERC20 
token IS 
approved[22m[39m
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)

[90mstderr[2m | src
/hooks/__tests__/useS
wapExecution.test.js
[2m > [22m[2museSwa
pExecution - Logic 
Security[2m > 
[22m[2mshould pass 
validation if ERC20 
token IS 
approved[22m[39m
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)

[90mstderr[2m | src
/hooks/__tests__/useS
wapExecution.test.js
[2m > [22m[2museSwa
pExecution - 
Freshness 
Validation[2m > 
[22m[2mshould 
allow 55s old route 
for initial check 
(limit 60s) but fail 
pre-send (limit 
45s)[22m[39m
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)

[90mstderr[2m | src
/hooks/__tests__/useS
wapExecution.test.js
[2m > [22m[2museSwa
pExecution - 
Freshness 
Validation[2m > 
[22m[2mshould 
allow 55s old route 
for initial check 
(limit 60s) but fail 
pre-send (limit 
45s)[22m[39m
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)
Warning: An update 
to TestComponent 
inside a test was 
not wrapped in 
act(...).

When testing, code 
that causes React 
state updates should 
be wrapped into 
act(...):

act(() => {
  /* fire events 
that update state */
});
/* assert on the 
output */

This ensures that 
you're testing the 
behavior the user 
would see in the 
browser. Learn more 
at https://reactjs.or
g/link/wrap-tests-wit
h-act
    at TestComponent 
(C:\DAPP\SWAP\blackbo
x dapp\node_modules\@
testing-library\react
\dist\pure.js:307:5)

 [32mΓ£ô[39m src/hooks/__tests__/useSwapExecution.test.js [2m ([22m[2m4 tests[22m[2m)[22m[33m 4568[2mms[22m[39m

[2m Test Files [22m [1m[32m6 passed[39m[22m[90m (6)[39m
[2m      Tests [22m [1m[32m50 passed[39m[22m[90m (50)[39m
[2m   Start at [22m 17:35:05
[2m   Duration [22m 7.66s[2m (transform 834ms, setup 5.26s, collect 4.16s, tests 5.68s, environment 3.26s, prepare 2.92s)[22m

